<!-- 
File:    userMain.html
Author:  Richard Baldwin
Date:    10/2/2020
E-mail:  richardbaldwin@umbc.edu
Description: holds users page
 -->

{% extends "advMain.html" %}

<!-- sidebar Content -->
{% block subSidebar %}
<nav class="w3-sidebar w3-bar-block w3-collapse w3-large w3-theme-l5 w3-animate-left" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-right w3-xlarge w3-padding-large w3-hover-black w3-hide-large" title="Close Menu">
    <i class="fa fa-remove"></i>
  </a>
  <div class="w3-dropdown-hover">
    <button class="w3-button w3-theme">Sender <i class="fa fa-caret-down"></i></button>
    <!-- sender dropdown -->
    <form class="w3-dropdown-content w3-bar-block w3-border">
      {{form.csrf_token}}
      {% for name in names %}
      <input type="submit" name="sender" value={{name}} class="w3-bar-item w3-button">
      {% endfor %}
    </form>
  </div>
</nav>

{% endblock subSidebar %}

<!-- main Content -->
{% block subContent %}
<div class="w3-main" style="margin-left:250px">
  <div class="w3-row-padding w3-padding-64">
<!-- messages -->

<form>
<!-- output messages -->
<input type="submit" name="setRefMessage" value="Set selected message as reference"class="w3-bar-item w3-button w3-large w3-theme-l4 w3-hover-black"><br>
{% for i in range(messageNum) %}        
<div class="w3-container w3-half w3-card-4">
  <input type="radio" name="refChoice" value={{i}} class="w3-radio">
  <label class="w3-xxlarge">Message from {{Sender[i]}} from round {{Round[i]}}</label>
  <table class="w3-table w3-striped w3-bordered">
  <thead>
  <tr class="w3-theme">
    <th>Sender</th>
    <th>Recipient</th>
    <th>Time</th>
    <th>Place</th>
    <th>Key</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>{{Sender[i]}}</td>
    <td>{{Recipient[i]}}</td>
    <td>{{Time[i]}}</td>
    <td>{{Place[i]}}</td>
    <td>{{Key[i]}}</td>
  </tr>
  </tbody>
  </table>
  <table class="w3-table w3-striped w3-bordered">
  <thead>
  <tr class="w3-theme-l1">
    <th>Message</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>{{MessageText[i]}}</td>
  </tr>
  </tbody>
  </table>

</div>

     
<div class="w3-container w3-half w3-card-4">
  <input type="radio" name="refChoice" value={{i}} class="w3-radio">
  <label class="w3-xxlarge">Edited Message from {{modSender[i]}} from round {{modRound[i]}}</label>
  <table class="w3-table w3-striped w3-bordered">
  <thead>
  <tr class="w3-theme">
    <th>Sender</th>
    <th>Recipient</th>
    <th>Time</th>
    <th>Place</th>
    <th>Key</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>{{modSender[i]}}</td>
    <td>{{modRecipient[i]}}</td>
    <td>{{modTime[i]}}</td>
    <td>{{modPlace[i]}}</td>
    <td>{{modKey[i]}}</td>
  </tr>
  </tbody>
  </table>
  <table class="w3-table w3-striped w3-bordered">
  <thead>
  <tr class="w3-theme-l1">
    <th>Message</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>{{modMessageText[i]}}</td>
  </tr>
  </tbody>
  </table>

</div>
{% endfor %}

</form>
</div>

</div>
{% endblock subContent %}